{"ast":null,"code":"import _objectSpread from \"/home/shadows/Documents/wdi4/Project-4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/shadows/Documents/wdi4/Project-4/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport axios from \"axios\";\nimport Home from \"./Home\";\nimport Show from \"./components/Show\";\nimport Login from \"./components/Login\";\nimport { getToken, setToken, logout } from './services/auth';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom'; //header file for auth\n\nlet header = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Authorization\": \"Bearer \".concat(getToken())\n  }\n};\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: [],\n      title: [],\n      url: [],\n      train_score: [],\n      test_score: [],\n      user: \"\",\n      errorMsg: '',\n      isAuthenticated: true,\n      hasError: false\n    };\n\n    this.logout = () => {\n      logout();\n\n      let data = _objectSpread({}, this.state); //reset everything on logout\n\n\n      data.isAuthenticated = false;\n      data.user = \"\";\n      data.email = \"\";\n      data.password = \"\";\n      data.games = [];\n      this.setState(data);\n    };\n\n    this.getData = () => {\n      if (this.state.id[0]) return null;\n      axios.get('main/').then(data => {\n        let newState = _objectSpread({}, this.state);\n\n        data.data.datum.forEach(item => {\n          newState.id.push(item._id);\n          newState.title.push(item.title);\n          newState.train_score.push(item.train_acc);\n          newState.test_score.push(item.test_acc);\n          newState.url.push('http://placehold.it/300x300');\n        });\n        this.setState(newState);\n      });\n    };\n  }\n\n  render() {\n    const logged = this.state.isAuthenticated ? React.createElement(\"div\", {\n      className: \"text-white logout\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Logout\") : React.createElement(Link, {\n      to: \"/login\",\n      className: \"text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Login\");\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"bg-dark p-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      className: \"text-white d-flex flex- justify-content-start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Home\"), logged), React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(Home, {\n        state: this.state,\n        getData: this.getData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      render: () => React.createElement(Login, {\n        isAuth: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/show/:id\",\n      component: Show,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/shadows/Documents/wdi4/Project-4/frontend/src/App.js"],"names":["React","Component","axios","Home","Show","Login","getToken","setToken","logout","BrowserRouter","Router","Route","Link","header","headers","App","state","id","title","url","train_score","test_score","user","errorMsg","isAuthenticated","hasError","data","email","password","games","setState","getData","get","then","newState","datum","forEach","item","push","_id","train_acc","test_acc","render","logged"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\nimport './App.css';\nimport axios from \"axios\"\nimport Home from \"./Home\"\nimport Show from \"./components/Show\"\nimport Login from \"./components/Login\"\nimport { getToken, setToken, logout} from './services/auth'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link\n} from 'react-router-dom'\n\n//header file for auth\nlet header = {\n  headers :{\n    \"Content-Type\" : \"application/json\",\n    \"Authorization\" : `Bearer ${getToken()}`\n  }\n}\n\n\nexport default class App extends Component {\n  state={\n    id:[],\n    title:[],\n    url:[],\n    train_score:[],\n    test_score:[],\n    user : \"\",\n    errorMsg : '',\n    isAuthenticated : true,\n    hasError : false\n  }\n\n  logout = () =>{\n    logout()\n    let data = {...this.state}\n    //reset everything on logout\n    data.isAuthenticated = false\n    data.user = \"\"\n    data.email = \"\"\n    data.password = \"\"\n    data.games = []\n\n    this.setState(data)\n  }\n\n  getData=()=>{\n    if (this.state.id[0])return null\n    axios.get('main/')\n    .then(data=>{\n      let newState={...this.state}\n      data.data.datum.forEach((item)=>{\n        newState.id.push(item._id)\n        newState.title.push(item.title)\n        newState.train_score.push(item.train_acc)\n        newState.test_score.push(item.test_acc)\n        newState.url.push('http://placehold.it/300x300')\n      })\n      \n      this.setState(newState)\n    })\n  }\n\n  render() {\n    const logged=(this.state.isAuthenticated)?<div className='text-white logout' onClick={this.logout} >Logout</div>:<Link to='/login' className='text-white'>Login</Link>;\n    return (\n      <div>\n      <Router>\n      <nav className='bg-dark p-1'>\n        <Link to='/' className='text-white d-flex flex- justify-content-start'>Home</Link>\n        {logged}\n      </nav>\n        <Route exact path='/' render={()=><Home state={this.state} getData={this.getData} />} />\n        <Route path='/login' render={()=> <Login isAuth={false} />}/>\n        <Route path='/show/:id' component={Show} />\n      </Router>\n      </div>\n    )\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}