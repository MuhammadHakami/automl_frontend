{"ast":null,"code":"var _jsxFileName = \"/home/shadows/Documents/wdi4/Project-4/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport axios from \"axios\";\nimport Home from \"./Home\";\nimport Show from \"./components/Show\";\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\nimport { getToken, setToken, logout } from './services/auth';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom'; //header file for auth\n\nlet header = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Authorization\": \"Bearer \".concat(getToken())\n  } // export default class App extends Component {\n  //   state={\n  //     id:[],\n  //     title:[],\n  //     url:[],\n  //     train_score:[],\n  //     test_score:[],\n  //     user : \"\",\n  //     errorMsg : '',\n  //     isAuthenticated : false,\n  //     hasError : false\n  //   }\n  //   changeHandler = (e) => {\n  //     //Log every key value and save to state from form\n  //     let data = {...this.state}\n  //     data[e.target.name] = e.target.value\n  //     this.setState(data)\n  //   }\n  //   logout = () =>{\n  //     logout()\n  //     let data = {...this.state}\n  //     //reset everything on logout\n  //     data.isAuthenticated = false\n  //     data.user = \"\"\n  //     data.email = \"\"\n  //     data.password = \"\"\n  //     setToken(\"\")\n  //     this.setState(data)\n  //   }\n  //   getData=()=>{\n  //     if (this.state.id[0])return null\n  //     axios.get('main/',header)\n  //     .then(data=>{\n  //       let newState={...this.state}\n  //       data.data.datum.forEach((item)=>{\n  //         newState.id.push(item._id)\n  //         newState.title.push(item.title)\n  //         newState.train_score.push(item.train_acc)\n  //         newState.test_score.push(item.test_acc)\n  //         newState.url.push('http://placehold.it/300x300')\n  //       })\n  //       this.setState(newState)\n  //     })\n  //   }\n  //   loginHandler = (e) => {\n  //     e.preventDefault()\n  //     axios.post('auth/login',{ email: this.state.email, password: this.state.password})\n  //     .then( response => {\n  //       if(response.data.token){\n  //         setToken(response.data.token)\n  //         let data = {...this.state}\n  //         data.user = response.data.username\n  //         data.isAuthenticated = true\n  //         data.hasError = false\n  //         this.setState(data)\n  //         window.location.reload();\n  //         this.getData()\n  //       }\n  //     })\n  //     .catch(err =>{\n  //       window.location.reload();\n  //       let data = {...this.state}\n  //         data.hasError = true\n  //         this.setState(data)\n  //     })\n  //   }\n  //   registerHandler = (e) => {\n  //     axios.post('auth/register',{})\n  //     .then( response => {\n  //     })\n  //     .catch()\n  //   }\n  //   componentDidMount(){\n  //     if (getToken()){\n  //       let data = {...this.state}\n  //       data.isAuthenticated = true\n  //       data.hasError = false\n  //       this.setState(data)\n  //     }\n  //   }\n  //   render() {\n  //     const logged=(this.state.isAuthenticated)?<div className='text-white logout' onClick={this.logout} >Logout</div>:<Link to='/login' className='text-white'>Login</Link>;\n  //     const isAuth=(this.state.isAuthenticated)?<Home state={this.state} getData={this.getData} that={this} />:<Login change={this.changeHandler} login={this.loginHandler} />;\n  //     return (\n  //       <div>\n  //       <Router>\n  //       <nav className='bg-dark p-1 d-flex flex-row justify-content-between'>\n  //         <Link to='/' className='text-white'>Home</Link>\n  //         {logged}\n  //       </nav>\n  //         <Route exact path='/' render={()=>isAuth} />\n  //         <Route path='/show/:id' component={Show} />\n  //       </Router>\n  //       </div>\n  //     )\n  //   }\n  // }\n  //import React from 'react'\n  //import { Redirect } from 'react-router-dom'\n\n};\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirect: false\n    };\n\n    this.setRedirect = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/target\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, this.renderRedirect(), React.createElement(\"button\", {\n      onClick: this.setRedirect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Redirect\"));\n  }\n\n}","map":{"version":3,"sources":["/home/shadows/Documents/wdi4/Project-4/frontend/src/App.js"],"names":["React","Component","axios","Home","Show","Login","Signup","getToken","setToken","logout","BrowserRouter","Router","Route","Link","header","headers","App","state","redirect","setRedirect","setState","renderRedirect","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,MAA7B,QAA0C,iBAA1C;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,KAFF,EAGEC,IAHF,QAIO,kBAJP,C,CAMA;;AACA,IAAIC,MAAM,GAAG;AACXC,EAAAA,OAAO,EAAE;AACP,oBAAiB,kBADV;AAEP,sCAA4BR,QAAQ,EAApC;AAFO,GADE,CAQb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;;AA9Ha,CAAb;AA+HA,eAAe,MAAMS,GAAN,SAAkBhB,KAAK,CAACC,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAC/CgB,KAD+C,GACvC;AACNC,MAAAA,QAAQ,EAAE;AADJ,KADuC;;AAAA,SAI/CC,WAJ+C,GAIjC,MAAM;AAClB,WAAKC,QAAL,CAAc;AACZF,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KAR8C;;AAAA,SAS/CG,cAT+C,GAS9B,MAAM;AACrB,UAAI,KAAKJ,KAAL,CAAWC,QAAf,EAAyB;AACvB,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACF,KAb8C;AAAA;;AAc/CI,EAAAA,MAAM,GAAI;AACR,WACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKD,cAAL,EADF,EAEC;AAAQ,MAAA,OAAO,EAAE,KAAKF,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,CADH;AAMD;;AArB8C","sourcesContent":["import React,{ Component } from 'react';\nimport './App.css';\nimport axios from \"axios\"\nimport Home from \"./Home\"\nimport Show from \"./components/Show\"\nimport Login from \"./components/Login\"\nimport Signup from \"./components/Signup\"\nimport { getToken, setToken, logout} from './services/auth'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link\n} from 'react-router-dom'\n\n//header file for auth\nlet header = {\n  headers :{\n    \"Content-Type\" : \"application/json\",\n    \"Authorization\" : `Bearer ${getToken()}`\n  }\n}\n\n\n// export default class App extends Component {\n//   state={\n//     id:[],\n//     title:[],\n//     url:[],\n//     train_score:[],\n//     test_score:[],\n//     user : \"\",\n//     errorMsg : '',\n//     isAuthenticated : false,\n//     hasError : false\n//   }\n\n//   changeHandler = (e) => {\n//     //Log every key value and save to state from form\n//     let data = {...this.state}\n//     data[e.target.name] = e.target.value\n\n//     this.setState(data)\n//   }\n\n  \n//   logout = () =>{\n//     logout()\n//     let data = {...this.state}\n//     //reset everything on logout\n//     data.isAuthenticated = false\n//     data.user = \"\"\n//     data.email = \"\"\n//     data.password = \"\"\n//     setToken(\"\")\n\n//     this.setState(data)\n//   }\n\n//   getData=()=>{\n//     if (this.state.id[0])return null\n//     axios.get('main/',header)\n//     .then(data=>{\n//       let newState={...this.state}\n//       data.data.datum.forEach((item)=>{\n//         newState.id.push(item._id)\n//         newState.title.push(item.title)\n//         newState.train_score.push(item.train_acc)\n//         newState.test_score.push(item.test_acc)\n//         newState.url.push('http://placehold.it/300x300')\n//       })\n      \n//       this.setState(newState)\n//     })\n//   }\n\n//   loginHandler = (e) => {\n//     e.preventDefault()\n//     axios.post('auth/login',{ email: this.state.email, password: this.state.password})\n//     .then( response => {\n//       if(response.data.token){\n//         setToken(response.data.token)\n        \n//         let data = {...this.state}\n//         data.user = response.data.username\n//         data.isAuthenticated = true\n//         data.hasError = false\n\n//         this.setState(data)\n//         window.location.reload();\n//         this.getData()\n//       }\n      \n//     })\n//     .catch(err =>{\n//       window.location.reload();\n//       let data = {...this.state}\n//         data.hasError = true\n//         this.setState(data)\n\n//     })\n//   }\n\n//   registerHandler = (e) => {\n//     axios.post('auth/register',{})\n//     .then( response => {\n\n//     })\n//     .catch()\n//   }\n\n//   componentDidMount(){\n//     if (getToken()){\n//       let data = {...this.state}\n//       data.isAuthenticated = true\n//       data.hasError = false\n      \n//       this.setState(data)\n//     }\n//   }\n\n//   render() {\n//     const logged=(this.state.isAuthenticated)?<div className='text-white logout' onClick={this.logout} >Logout</div>:<Link to='/login' className='text-white'>Login</Link>;\n//     const isAuth=(this.state.isAuthenticated)?<Home state={this.state} getData={this.getData} that={this} />:<Login change={this.changeHandler} login={this.loginHandler} />;\n//     return (\n//       <div>\n//       <Router>\n//       <nav className='bg-dark p-1 d-flex flex-row justify-content-between'>\n//         <Link to='/' className='text-white'>Home</Link>\n//         {logged}\n//       </nav>\n//         <Route exact path='/' render={()=>isAuth} />\n//         <Route path='/show/:id' component={Show} />\n//       </Router>\n//       </div>\n//     )\n//   }\n// }\n\n\n\n//import React from 'react'\n//import { Redirect } from 'react-router-dom'\nexport default class App extends React.Component {\n  state = {\n    redirect: false\n  }\n  setRedirect = () => {\n    this.setState({\n      redirect: true\n    })\n  }\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to='/target' />\n    }\n  }\n  render () {\n    return (\n       <div>\n        {this.renderRedirect()}\n        <button onClick={this.setRedirect}>Redirect</button>\n       </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}